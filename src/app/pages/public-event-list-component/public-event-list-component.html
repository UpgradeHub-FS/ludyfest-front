<!-- TÍTULO -->
<div class="container">
    <h2 class="title">Events</h2>

    <section class="my-3">

        <!-- SELECTOR DE CATEGORÍAS -->
        <div class="controls">
            <select (change)="onChange($event)" class="form-select">
                <option value=""> Elige categoría</option>
                <option value="Conciertos"> Conciertos</option>
                <option value="Parties"> Parties</option>
                <option value="Experiencias"> Experiencias</option>
                <option value="Torneos"> Torneos</option>
                <option value="Cultura"> Cultura</option>
                <option value="Cine"> Cine</option>
            </select>

            <!-- BÚSQUEDA Y ORDEN -->
            <input type="text" placeholder="🔎 Buscar..." [(ngModel)]="searchTerm" />

            <select [(ngModel)]="sortOption" class="form-select">
                <option value="">Ordenar por...</option>
                <option value="az">▶ A-Z</option>
                <option value="za">◀ Z-A</option>
                <option value="date">📅 Fecha</option>
            </select>

            <select (change)="onChangeAforo($event)" class="form-select">

                <option value="">Aforo</option>
                <option value="0/50">0 a 50</option>
                <option value="50/100">50 a 100</option>
                <option value="100/250">100 a 250</option>
                <option value="250/100000">más de 250</option>
            </select>
        </div>


        <!-- LISTADO DE EVENTOS -->
        @for (event of filteredEvents; track event.id) {
        <div class="event-card">

            <img [src]="'public/images/imagen-festival.jpg'" alt="{{ event.title }}" class="event-image" />

            <div class="event-info">
                <h3>{{ event.title }}</h3>
                <span class="badge"
                    [ngClass]="{ 'badge-success': event.status === 1, 'badge-danger': event.status === 0 }">
                    {{ event.status === 1 ? 'Upcoming' : 'Not available' }}
                </span>

                <p>📅 {{ event.date }} &nbsp; 👤 {{ event.capacity }}</p>
                <p>💶 {{ event.price }}€</p>

            </div>
            <div class="event-actions">
                <button class="btn btn-primary" (click)="onClick(event.id)">Apuntarse</button>
                <button [routerLink]="['/events', event.id]" class="btn btn-info">Ver Evento</button>
            </div>
        </div>
        }
    </section>
</div>